# dex-web — Next.js Frontend for the DEX MVP

Simple UI to **issue tokens**, **place/fill/cancel orders**, and **view the order book**.

## 1) Install & Run
```bash
npm install
npm run dev
# open the shown URL (e.g., http://localhost:3000/)
```

## 2) Network Selection & Addresses
The app imports one of these files:
- `src/lib/addresses.local.json` (Hardhat 31337)
- `src/lib/addresses.sepolia.json` (Sepolia 11155111)

These files are **generated by repo scripts** (run them at the monorepo root):
```bash
node scripts/deployFactory-write-frontend.js
node scripts/deployDex-write-frontend.js
node scripts/deployTokens-standalone.js
# for Sepolia, use: deployFactory-sepolia.mjs / deployDex[-/V2]-sepolia.mjs / deployTokens-sepolia.mjs
```

## 3) Quick Walkthroughs

### A) Issue a token
1. Click **Connect** (MetaMask).
2. Open **Issue ERC‑20** card.
3. Enter name, symbol, initial supply (wei or human units per UI notes).
4. Submit — the token address appears after confirmation.

### B) Place a limit order
1. **Approve the DEX** to spend your token (UI prompts if missing).
2. In **Limit Order** card: pick **sell token**, **buy token**, set **sellAmount** and **buyAmount** (price = buy/sell).
3. Submit. The order appears in **Order Book**.

### C) Fill or cancel
- **Fill:** From a second account, take the opposite order using the **Market/Fill** panel.
- **Cancel:** Maker can cancel their own order.

## 4) Key Files
- `src/app/page.tsx` — main page composing the cards
- `src/app/components/IssueTokenCard.tsx`
- `src/app/components/DexLimitOrderCard.tsx`
- `src/app/components/DexMarketOrderCard.tsx`
- `src/app/components/OrderBookCard.tsx`
- `src/lib/abi.ts` — minimal ABIs (ERC‑20, DEX, Factory)
- `src/lib/net.ts` — network helpers

## 5) Troubleshooting
- **“No contract at address”** — re‑run deploy scripts to regenerate `addresses.*.json`.
- **“insufficient allowance”** — approve the DEX first.
- **Network mismatch** — switch MetaMask to the correct network.
- **Fresh Hardhat node** — if you restart `npx hardhat node`, redeploy + refresh addresses.

## License
MIT